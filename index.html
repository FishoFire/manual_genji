<!DOCTYPE html>
<html lang="en">

<header>
	<title>manual cp maker</title>
	<meta charset="UTF-8" />
	<link rel="stylesheet" href="style.css">
</header>


<body>
<div class="contentblock"> 
	<div class="sidebar">
		<button onclick="changebar(3)" class="sidebarbutton">settings</button> 
		<button onclick="changebar(0)" class="sidebarbutton">data</button> 
		<button onclick="changebar(1)" class="sidebarbutton">save/load</button> 
		<button onclick="changebar(4)" class="sidebarbutton">convert map</button>
		<button onclick="changebar(5)" class="sidebarbutton">log</button> 
		<button onclick="changebar(2)" class="sidebarbutton">help ?</button> 
	</div>
</div>

<div class="contentblock"> 
	<button onclick="Copy()" class="longbutton" >  copy map to clipboard </button>
</div>

<div class="contentblock" style="display:none" id="messageblock"> 
	<div id="message"></div>
</div>


<div id="settingsdata">
	<div class="contentblock"> 
		<div class="contentblock"> 
			<label> <b>Display information </b> </label> </br>
			<textarea rows="1" cols="25" placeholder="map maker" id="maker" style="display:inline-block" onchange="UpdateTop()"></textarea> |   
			<textarea rows="1" cols="10" placeholder="map code" id="code" style="display:inline-block" onchange="UpdateTop()"></textarea> 
			<br/> difficulty <select name="difi" id="dif" onchange="UpdateTop()">
				<option value="0">beginner</option>
				<option value="1">easy-</option>
				<option value="2">easy</option>
				<option value="3">easy+</option>
				<option value="4">medium-</option>
				<option value="5">medium</option>
				<option value="6">medium+</option>
				<option value="7">hard-</option>
				<option value="8">hard</option>
				<option value="9">hard+</option>
				<option value="10">very hard-</option>
				<option value="11">very hard</option>
				<option value="12">very hard+</option>
				<option value="13">extreme-</option>
				<option value="14">extreme</option>
				<option value="15">extreme+</option>
				<option value="16">hell</option>
				<option value="17">don't display</option>
				<option value="custom">custom</option>
			</select> 
			
			| 
			<textarea rows="1" cols="20" placeholder="custom difficulty" id="customdif" onchange="UpdateTop();" disabled="true"></textarea> 
			
			| color <small>(custom difficulty)</small>
			<select id="customdifcolor" onchange="UpdateTop();" disabled="true">	
				<option value="Aqua">Aqua</option>
				<option value="Black">Black</option>
				<option value="Blue">Blue</option>
				<option value="Gray">Gray</option>
				<option value="Green">Green</option>
				<option value="Lime Green" selected="selected">Lime Green</option>
				<option value="Orange">Orange</option>
				<option value="Purple">Purple</option>
				<option value="Red">Red</option>
				<option value="Rose">Rose</option>
				<option value="Sky Blue">Sky Blue</option>
				<option value="Turquoise">Turquoise</option>
				<option value="Violet">Violet</option>
				<option value="White">White</option>
				<option value="Yellow">Yellow</option>
			</select> 



		</div>
		<!--
		<div class="contentblock">
			<label id="DashToggleEnabled">Dash addon: disabled |</label>
			<label id="UltToggleEnabled">| Ult addon: disabled</label>   <br/>
		</div>
		-->
		
		<div class="contentblock">
			overwatch text language
			<select id="languageInput">
				<option value="en-US">English [en-US]</option>
				<option value="de-DE">Deutsch [de-DE]</option>
				<option value="es-ES">Español (EU) [es-ES]</option>
				<option value="es-MX">Español (AL) [es-MX]</option>
				<!--<option value="fr-FR">Français [fr-FR]</option>-->
				<option value="it-IT">Italiano [it-IT]</option>
				<option value="ja-JP">日本語 [ja-JP]</option>
				<option value="ko-KR">한국어 [ko-KR]</option>
				<option value="pl-PL">Polski [pl-PL]</option>
				<option value="pt-BR">Português [pt-BR]</option>
				<option value="ru-RU">Русский [ru-RU]</option>
				<option value="zh-CN">简体中文 [zh-CN]</option>
				<option value="zh-TW">繁體中文 [zh-TW]</option>
			</select> 
			<br/>
			<input type="checkbox" id="editorontoggle"> Turn editor on	
		</div>

			<div class="contentblock">
			player team: <select id="teamselect" onchange="MapData[22] = this.value">	
				<option value="team1">Team 1</option>
				<option value="team2">Team 2</option>
			</select>

		</div>
		<div class="contentblock"> <b> Bans </b> <small>(apply to entire map) </small><br/>
			<input type="checkbox" id="ban_triple" onclick="UpdateTop()">▲ triple |
			<input type="checkbox" id="ban_multi" onclick="UpdateTop()">∞ multi climb |
			<input type="checkbox" id="ban_create" onclick="UpdateTop()">♂ create bhop |
			<input type="checkbox" id="ban_dbhop" onclick="UpdateTop()">X Deathbhop <br/>
			<input type="checkbox" id="ban_dashstart" onclick="UpdateTop()"> dash start |
			<input type="checkbox" id="ban_climb" onclick="UpdateTop()">↑ wall climb |
			<input type="checkbox" id="ban_emote" onclick="UpdateTop()">♥ emote <small>(not working until blizzard fixes)</small>
		</div>

		<div class="contentblock">

			<input type="checkbox" id="portalOn" onclick="UpdateTop()" checked="true"> default portal addon (control maps) 
			
			| in world text color
			<select id="iwtcolor" onchange="MapData[18] = this.value">	
				<option value="Aqua">Aqua</option>
				<option value="Black">Black</option>
				<option value="Blue">Blue</option>
				<option value="Gray">Gray</option>
				<option value="Green">Green</option>
				<option value="Lime Green" selected="selected">Lime Green</option>
				<option value="Orange">Orange</option>
				<option value="Purple">Purple</option>
				<option value="Red">Red</option>
				<option value="Rose">Rose</option>
				<option value="Sky Blue">Sky Blue</option>
				<option value="Turquoise">Turquoise</option>
				<option value="Violet">Violet</option>
				<option value="White">White</option>
				<option value="Yellow">Yellow</option>
			</select> <br/>

			<input type="checkbox" id="faketripleon" onclick="UpdateTop()" > enable fake triple jump addon
			<!--
			<label id="DashToggleEnabled">dash addon (automatic): disabled |</label>
			<label id="UltToggleEnabled">| ult addon (automatic): disabled</label>   
			<br/>
			<label id="HudEnabled">hud addon (automatic): disabled |</label>
			<label id="IwtToggleEnabled">| in world text addon (automatic): disabled</label>  
			-->
		</div>
		<div class="contentblock" id="compdiv" style="background-color:#5F6D7A">
			
			<input type="checkbox" id="comptoggle" onclick="UpdateTop()"> <b>Tournament / Competitive mode</b><br/>
			<small><i>sets a time limit and turns off invisible, spectator mode and practice mode </i></small> <br/>
			<!-- <input type="range" value="24" min="1" max="100" oninput="this.nextElementSibling.value = this.value"> -->
			<input type="range" id="comptimeslider" value="120" min="1" max="240" oninput="document.getElementById('comptimenumber').value = this.value;UpdateTop()"> 
			<input type="number" id="comptimenumber" value="120" min="1" max="240" oninput="document.getElementById('comptimeslider').value = this.value;if(this.value > maxtimecomp || this.value < 1){this.value = maxtimecomp};UpdateTop()"> <br/>
			<input type="number" id="compattempt" value="0" min="0" max="9999" oninput="if(this.value > 9999 || this.value == ''){this.value = 0};UpdateTop()"> attempt limit (0 for infinite)<br/>
			<input type="checkbox" id="comprestart" onclick="UpdateTop()"> disable restarting mid run <br/>
			<textarea rows="3" style="width:80%" placeholder="competition rule popup text here" id="compdesc" style="display:inline-block" onchange="UpdateTop()"></textarea> 
			
		</div>

		<div class="contentblock" id="titlediv" style="background-color:#5F6D7A">
			<input type="checkbox" id="titletoggle" onclick="UpdateTop()"> <b>Title addon</b>

			<div id="titlelist"></div>

			<button onclick="AddTitle()" style="width:200px"> + </button>
		
		</div>

		<div class="contentblock">
			<textarea rows="6" style="width:90%" placeholder="map notes - (these don't display ingame)" id="notes" style="display:inline-block" onchange="UpdateTop()"></textarea>
		</div>
	</div>
</div>




<div id="tool">

	<div class="contentblock"> 
		

		<div id="button div" class="contentblock" > 
			<button onclick="AddNewCP(1)" >insert checkpoint (after current cp)</button>
			<button onclick="AddNewCP(0)" >add checkpoint (at the end of cp list)</button>
			<hr>
			<div id="cp_buttons"></div>
		</div>   

		<div id="cpdata" class="contentblock"> 
			<div id="selectedcpnumber">Select a checkpoint</div>
			position <textarea id="CPvector" name="txtfield" rows="1" cols="25" onchange="UpdateAfterChange()" onkeyup="FieldColorsVect(this)" placeholder="0,0,0"></textarea> <br/>
			

			<input type="checkbox" id="CPdashenable" onclick="UpdateAfterChange()"> dash |
			<input type="checkbox" id="CPultenable" onclick="UpdateAfterChange()"> ultimate |
			<input type="checkbox" id="CPteleportTF" onclick="UpdateAfterChange()"> teleport <textarea id="CPteleportVect" name="txtfield" onchange="UpdateAfterChange()" onkeyup="FieldColorsVect(this)"  rows="1" cols="25" placeholder="0,0,0"></textarea> 
			<br/>
			<!-- disabled because it doesnt work (hiden next 2)-->
			<input type="checkbox" id="CPbanBhop" onclick="UpdateAfterChange()" style="display:none"><!--  ban bhop -->
			<input type="checkbox" id="CpbanClimb" onclick="UpdateAfterChange()" style="display:none"> <!-- ban wallclimb -->
			<hr>
			<b>Bans</b> <br/>
			<input type="checkbox" id="bantrip" onclick="UpdateAfterChange()">▲ triple |
			<input type="checkbox" id="banmulti" onclick="UpdateAfterChange()"> ∞ multi |
			<input type="checkbox" id="bancrea" onclick="UpdateAfterChange()" >♂ create |
			<input type="checkbox" id="bandead" onclick="UpdateAfterChange()">X deadhop |
			<input type="checkbox" id="banclimb" onclick="UpdateAfterChange()" >↑ wallclimb |
			<input type="checkbox" id="banemote" onclick="UpdateAfterChange()">♥ emote <small>(not working until blizzard fixes)</small>
			
			<hr>

			<input type="checkbox" id="hudeanbledbox" onclick="UpdateAfterChange()">
			HUD text 
			<textarea id="hudtxt" name="txtfield" rows="2" cols="50" onchange="UpdateAfterChange()" placeholder="abc"></textarea> 
			<br/>
			<input type="checkbox" id="iwteanbledbox" onclick="UpdateAfterChange()">
			InWorldText | position  
			<textarea id="iwtpos" name="txtfield" rows="1" cols="15" onchange="UpdateAfterChange()" onkeyup="FieldColorsVect(this)" placeholder="0,0,0"></textarea> 
			| text
			<textarea id="iwttext" name="txtfield" rows="1" cols="25" onchange="UpdateAfterChange()" placeholder="abc"></textarea> 
			
			<hr>

		
			<textarea id="CPnotes" name="txtfield" rows="2"  onchange="UpdateAfterChange()" placeholder="cp notes"></textarea>
		
			<button onclick="RemoveCP()">  delete this checkpoint  </button>
		
		</div>


		<div id="orbs-kills" class="contentblock"> 
			<button onclick="AddOrb()" style="background-color:greenyellow;border:1px solid green">  add bounce orb  </button>
			<button onclick="AddKill()" style="background-color:red;border:1px solid darkred">  add kill orb  </button>
			<label id="orbcounter"> </label>
		</div>
	</div>
</div>

<div id="savebar">
	
		<div class="saveelement">
			<button onclick="ExportJsonCopy()">copy data json to clipboard</button>
			<button onclick="ExportJsonFile()">download as json file</button>
			<br/>
			<button onclick="ImportJson()">import json</button>
			<textarea id="jsonfield" rows="1" cols="25" placeholder="json pasta for import here"></textarea>
		</div>
		<div class="saveelement">
			<b>autosave</b> (every minute)
			<button onclick="LoadSave('-auto')" style="width:95%">Load </button>
		</div>


			<!--
			<div class="saveelement">
				<b>  Save slot 0</b> <br/> 
				<textarea id="save0" name="txtfield" style="width:95%" rows="1"> savename</textarea>
				<button onclick="Save(0)" style="width:95%"> Save </button> 
				<button onclick="LoadSave(0)" style="width:95%">Load </button>
			</div>
			-->
	
</div>


<div id="helpbar">
	<div class="contentblock">
		<p>
		<strong>step 1</strong><br/>
		Go ingame and open the editor on code <b>54CRY</b>  <br/>
		Make your map with the ingame editor. <br/>
		<!--Alternatively the vector tool on QR1PZ also still works if you prefere that.<br/>-->
		</p>

		<p>
		<strong>step 2 </strong><br/>
		Put the data from the game inside the web interface.<br/>
		In the editor the information about selected orbs or checkpoints is displayed on the left.<br>
		Type the vectors in the <i>data</i> tab of this web interface.<br/>
		There is no way to automate this without the inspector, have fun typing.<br/>
		<br/>
		<img src="pic/vectornumber.png" alt="picture of vector"> 
		
		</p>

		<p>
		<strong>step 3</strong> <br/>
		Make sure the langauge in the <i>settings</i> tab matches your overwatch client.<br/>
		Save the data in the <i>save/load</i> tab for later editing. <br/>
		Press the big <i>copy map to clipboard</i> button on top. <br/>
		Wait for the code to compile, it will copy your clipboard. <br/>
		Do not tab out while compiling! <br/>
		</p>

		<strong>step 4</strong> <br/>
		Go ingame and create a lobby.<br/>
		Paste in the data from step 3 copy button with the orange + symbol.<br/>
		Don't forget to also select the map you want to play on. <br/>
		<br/>
		<img src="pic/plusbutton.png" alt="picture of plus button"> 
		</p>

		<p>
		<strong>step 5</strong> <br/>
		The map is now ready for testing and playing.<br/>
		Ingame you can generate a share code for your map so others can open it. <br/>

		</p>

	</div>
</div>

<div id="convert">
	<div class="contentblock">
		<img src="pic/copybutton.png" alt="picture of copy button" style="width:100px;height:50px;float:right"> 
	<div>
		Expirimental feature that attemps to load mapdata from map pasta. </br>
		Copy the entire mode pasta in the text field, select your client langauge and press convert. </br>
		Only supports data pasted from overwatch. If you copy straight from the web interface, it might not work. </br>
		<u> This is might not import everything and it's on you to check your map for mistakes in converting </u> </br>
	</div>
	<hr>
	<table style="width:100%;">
		<tr>
			<th style="color:darkgreen;">Yes</th>
			<th style="color:orange;">Maybe</th>
			<th style="color:darkred;">No</th>
		</tr>
		<tr>
			<td>
			- Checkpoint positions </br>
			- Teleports </br>
			- bounce /kill orbs (per cp) </br>
			- ult and dash plugin </br>
			</td>
			<td>
			- Names (detected only in some cases) </br>
			- Sky cp's (will load, won't function) </br>
			- Teams in some modes and numbers </br>
			</td>
			<td>
			- orbs / kills that work for entire map </br>
			- Custom added code </br>
			- hud text and in world texts </br>
			- bans </br>
			- custom portals </br>
			- titles </br>
			- if's, returns or aborts in rule data</br>
			- everything else
			</td>
  	</tr>
	</table>
	<hr>
	
	Client langauge: 
	<select id="lang_convert">
		<option  selected="selected" value="en-US">English [en-US]</option>
		<option value="de-DE">Deutsch [de-DE]</option>
		<option value="es-ES">Español (EU) [es-ES]</option>
		<option value="es-MX">Español (AL) [es-MX]</option>
		<!--<option value="fr-FR">Français [fr-FR]</option> -->
		<option value="it-IT">Italiano [it-IT]</option>
		<option value="ja-JP">日本語 [ja-JP]</option>
		<option value="ko-KR">한국어 [ko-KR]</option>
		<option value="pl-PL">Polski [pl-PL]</option>
		<option value="pt-BR">Português [pt-BR]</option>
		<option value="ru-RU">Русский [ru-RU]</option>
		<option value="zh-CN">简体中文 [zh-CN]</option>
		<option value="zh-TW">繁體中文 [zh-TW]</option>
	</select> 
	| 
	<button onclick="Converter()" style="width:50%"> convert data</button> 

	</br>

	<textarea id="converterdata" placeholder="mapdata here" rows="15" style="width:90%;"></textarea>

	</div>
</div>


<div id="logger">
	<div class="contentblock">
	
		<b>Log</b> <br/>
		Information the last save/load/convert commands is displayed here. <br/>
		<!--<textarea readonly id="LogBox" style="width:90%;overflow:visible"></textarea>-->
		<div id="LogBox"> </div>

		<hr>
		<small>
		Advanced information can be found in the browsers log.<button onclick="ToggleLogHint()" style="padding:2px;margin:1px"> ? </button> <br/>	
		<div id="loghint" style="display:none">
			In most browsers this is done with these steps: <br/>
			1) right clicking anywere on the page to open the context menu <br/>
			2) click the "inspect" page option <br/>
			3) go to the "console" tab inside the inspector window <br/>
		</div>
		</small>
	</div>
</div>









<div style="text-align:left"><small>version 1.2</small></div>



<!--
<textarea id="results" style="display:none"></textarea>
<input type="hidden" id="overpy-textarea">
<input type="hidden" id="compiled-textarea"> -->
<script src="overpy-master/VS Code Extension/overpy.js"></script>


<script src="templates/template 1-7-6.js"></script>


<script src="js_generate_things.js"></script>
<script src="js_main.js"></script>
<script src="js_copy_button.js"></script>
<script src="js_save.js"></script>
<script src="js_converter.js"></script>

</body>
</html>